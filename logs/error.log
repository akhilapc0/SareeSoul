2025-09-25 19:29:35 [ERROR]: (node:14632) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-25 19:29:35 [ERROR]: (node:14632) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-25 21:14:32 [ERROR]: (node:3340) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-25 21:14:32 [ERROR]: (node:3340) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-25 21:42:42 [ERROR]: (node:38996) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-25 21:42:42 [ERROR]: (node:38996) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-26 10:20:07 [ERROR]: (node:30056) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-26 10:20:07 [ERROR]: (node:30056) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-26 10:54:09 [ERROR]: (node:24308) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-26 10:54:09 [ERROR]: (node:24308) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-26 15:18:25 [ERROR]: (node:32536) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-26 15:18:25 [ERROR]: (node:32536) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-26 15:33:32 [ERROR]: (node:17792) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-26 15:33:32 [ERROR]: (node:17792) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-26 16:17:00 [ERROR]: (node:23380) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-26 16:17:00 [ERROR]: (node:23380) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-26 18:22:09 [ERROR]: (node:39524) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-26 18:22:09 [ERROR]: (node:39524) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-26 18:39:49 [ERROR]: TypeError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\edit-personal-info.ejs:33
    31|                         class="rounded-circle border d-flex align-items-center justify-content-center fw-bold"
    32|                         style="width:70px;height:70px;object-fit:cover;background:#ddd;">
 >> 33|                         <%= user.name.charAt(0).toUpperCase() %>
    34|                       </div>
    35|                       <% } %>
    36|                 </div>

Cannot read properties of undefined (reading 'charAt')
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:27:36)
    at edit-personal-info (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at renderEditPersonal (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\profileController.js:24:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-09-26 20:33:20 [ERROR]: (node:39352) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-26 20:33:20 [ERROR]: (node:39352) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-26 20:34:21 [ERROR]: ReferenceError: updateUser is not defined
2025-09-26 20:35:22 [ERROR]: ReferenceError: updateUser is not defined
2025-09-26 20:44:03 [ERROR]: ReferenceError: updateUser is not defined
2025-09-26 20:46:31 [ERROR]: TypeError: Cannot read properties of undefined (reading 'path')
2025-09-26 20:47:15 [ERROR]: ReferenceError: updateUser is not defined
2025-09-26 20:47:17 [ERROR]: ReferenceError: updateUser is not defined
2025-09-26 20:48:41 [ERROR]: ReferenceError: updateUser is not defined
2025-09-26 20:59:14 [ERROR]: ReferenceError: updateUser is not defined
2025-09-26 21:00:09 [ERROR]: ReferenceError: updateUser is not defined
2025-09-26 21:04:58 [ERROR]: TypeError: Cannot read properties of undefined (reading 'path')
2025-09-26 21:07:40 [ERROR]: ReferenceError: updateUser is not defined
2025-09-27 09:03:34 [ERROR]: (node:28968) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-27 09:04:16 [ERROR]: (node:14692) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-27 09:05:38 [ERROR]: (node:38836) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-27 10:23:18 [ERROR]: this is an error
2025-09-27 11:35:55 [ERROR]: (node:41376) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-27 11:35:55 [ERROR]: (node:41376) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-27 13:03:25 [ERROR]: (node:7988) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-27 13:03:25 [ERROR]: (node:7988) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-27 15:38:15 [ERROR]: (node:15772) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-27 15:38:15 [ERROR]: (node:15772) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-27 20:44:47 [ERROR]: (node:36112) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-27 20:44:47 [ERROR]: (node:36112) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-27 20:49:45 [ERROR]: MongoServerError: E11000 duplicate key error collection: sareeSoul.users index: email_1 dup key: { email: "akhilapc0@gmail.com" }
    at InsertOneOperation.execute (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\mongodb\lib\operations\insert.js:51:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async tryOperation (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\mongodb\lib\operations\execute_operation.js:207:20)
    at async executeOperation (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\mongodb\lib\operations\execute_operation.js:75:16)
    at async Collection.insertOne (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\mongodb\lib\collection.js:157:16)
2025-09-27 21:13:20 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-27 21:21:49 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 11:39:49 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 11:41:43 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 11:53:16 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 11:54:58 [ERROR]: (node:41376) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
2025-09-28 11:54:58 [ERROR]: (node:41376) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
2025-09-28 11:55:27 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 11:56:18 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 12:04:59 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 12:14:17 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 12:23:55 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 12:30:49 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 12:39:56 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 12:46:28 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 12:57:28 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 13:03:57 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 13:10:50 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 13:31:05 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 13:33:38 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 14:58:17 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 15:02:55 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 15:10:01 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 15:11:10 [ERROR]: Error adding variant: Cannot convert object to primitive value
2025-09-28 18:32:20 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-28 20:50:11 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-28 20:52:20 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 10:34:18 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 10:35:44 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 10:41:25 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 10:44:16 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 10:50:30 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 10:51:17 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 10:53:46 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 10:55:34 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 10:56:23 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 11:57:29 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 12:00:52 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 12:04:55 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 12:07:22 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 12:09:28 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 12:09:59 [ERROR]: Error editing variant: TypeError: Cannot convert object to primitive value
2025-09-29 12:11:23 [ERROR]: Error editing variant: TypeError: Cannot convert object to primitive value
2025-09-29 12:12:00 [ERROR]: Error editing variant: TypeError: Cannot convert object to primitive value
2025-09-29 12:19:47 [ERROR]: Error editing variant: TypeError: Cannot convert object to primitive value
2025-09-29 12:28:21 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 12:30:22 [ERROR]: Error editing variant: Cannot convert object to primitive value
2025-09-29 18:36:37 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin\brand-list.ejs:118
    116|                 <!-- Actions -->
    117|                   <div class="btn-group">
 >> 118|                     <% if (variant.isBlocked) { %>
    119|                       <button type="button" class="btn btn-success" onclick="toggleBlock('<%= variant._id %>', false)">
    120|                         <i class="material-icons md-lock_open"></i> Unblock
    121|                       </button>

variant is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:42:8)
    at Array.forEach (<anonymous>)
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:30:15)
    at brand-list (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
2025-09-29 18:37:00 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin\brand-list.ejs:118
    116|                 <!-- Actions -->
    117|                   <div class="btn-group">
 >> 118|                     <% if (variant.isBlocked) { %>
    119|                       <button type="button" class="btn btn-success" onclick="toggleBlock('<%= brand._id %>', false)">
    120|                         <i class="material-icons md-lock_open"></i> Unblock
    121|                       </button>

variant is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:42:8)
    at Array.forEach (<anonymous>)
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:30:15)
    at brand-list (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
2025-09-29 18:37:01 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin\brand-list.ejs:118
    116|                 <!-- Actions -->
    117|                   <div class="btn-group">
 >> 118|                     <% if (variant.isBlocked) { %>
    119|                       <button type="button" class="btn btn-success" onclick="toggleBlock('<%= brand._id %>', false)">
    120|                         <i class="material-icons md-lock_open"></i> Unblock
    121|                       </button>

variant is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:42:8)
    at Array.forEach (<anonymous>)
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:30:15)
    at brand-list (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
2025-09-29 18:37:05 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin\brand-list.ejs:118
    116|                 <!-- Actions -->
    117|                   <div class="btn-group">
 >> 118|                     <% if (variant.isBlocked) { %>
    119|                       <button type="button" class="btn btn-success" onclick="toggleBlock('<%= brand._id %>', false)">
    120|                         <i class="material-icons md-lock_open"></i> Unblock
    121|                       </button>

variant is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:42:8)
    at Array.forEach (<anonymous>)
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:30:15)
    at brand-list (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
2025-09-29 19:06:34 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin\brand-list.ejs:109
    107|                   <h6 class="mb-1"><%= brand.name %></h6>
    108|                   <small>Status: 
 >> 109|                       <span class="badge <%= variant.isBlocked ? 'badge-danger' : 'badge-success' %>">
    110|                         <%= variant.isBlocked ? 'Blocked' : 'Active' %>
    111|                       </span>
    112|                     </small><br/>

variant is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:36:26)
    at Array.forEach (<anonymous>)
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:30:15)
    at brand-list (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
2025-09-30 15:04:37 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\cart.ejs:293
    291| </head>
    292| <body>
 >> 293|   <%- include('partials/header') %>
    294| 
    295|   <div class="container">
    296|     <div class="header">

C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\partials\header.ejs:169
    167|     <script>
    168|     (function() {
 >> 169|         const userData = <%- JSON.stringify(user) %>;
    170|         console.log(userData)
    171| 
    172|         function renderAuthLinks() {

user is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:12:32)
    at header (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at include (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:701:39)
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:12:17)
    at cart (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
2025-09-30 15:15:45 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-09-30 17:43:06 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin\product-list.ejs:103
    101|                     <h6 class="mb-0"><%= product.name %></h6>
    102|                       <small>Status: 
 >> 103|                       <span class="badge <%= variant.isBlocked ? 'badge-danger' : 'badge-success' %>">
    104|                         <%= variant.isBlocked ? 'Blocked' : 'Active' %>
    105|                       </span>
    106|                     </small><br/>

variant is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:36:26)
    at Array.forEach (<anonymous>)
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:30:17)
    at product-list (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
2025-09-30 17:48:09 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin\product-list.ejs:120
    118|                     <button class="btn btn-sm btn-success" onclick="toggleBlock('<%= variant._id %>', false)">Unblock</button>
    119|                   <% } else { %>
 >> 120|                     <button class="btn btn-sm btn-danger" onclick="toggleBlock('<%= variant._id %>', true)">Block</button>
    121|                   <% } %>
    122|                     <a href="/admin/products/edit/<%= product._id %>" class="btn btn-sm btn-warning">
    123|                       Edit

variant is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:57:26)
    at Array.forEach (<anonymous>)
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:30:17)
    at product-list (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
2025-09-30 18:12:08 [ERROR]: ReferenceError: Cannot access 'product' before initialization
2025-09-30 18:15:17 [ERROR]: ReferenceError: Cannot access 'product' before initialization
2025-09-30 18:16:34 [ERROR]: ReferenceError: Cannot access 'product' before initialization
2025-09-30 18:17:30 [ERROR]: ReferenceError: Cannot access 'product' before initialization
2025-09-30 18:19:03 [ERROR]: ReferenceError: Cannot access 'product' before initialization
2025-09-30 19:34:32 [ERROR]: Delete Variant Error: CastError: Cast to ObjectId failed for value "null" (type string) at path "_id" for model "Variant"
2025-09-30 19:53:30 [ERROR]: Error: Could not find matching close tag for "<%=".
    at C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:752:19
    at Array.forEach (<anonymous>)
    at Template.generateSource (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:742:15)
    at Template.compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:587:12)
    at Object.compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:398:16)
    at handleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:235:18)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:16)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
2025-09-30 19:54:56 [ERROR]: Delete Variant Error: CastError: Cast to ObjectId failed for value ":productId" (type string) at path "_id" for model "Product"
2025-09-30 19:59:26 [ERROR]: Delete Variant Error: CastError: Cast to ObjectId failed for value ":productId" (type string) at path "_id" for model "Product"
2025-09-30 20:00:21 [ERROR]: Delete Variant Error: CastError: Cast to ObjectId failed for value ":productId" (type string) at path "_id" for model "Product"
2025-10-01 13:26:20 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\cart.ejs:3
    1| <%- include('partials/head') %>
    2| <body>
 >> 3|   <%- include('partials/header') %>
    4| 
    5|   <div class="container my-5">
    6|     <h2 class="mb-4">Shopping Cart</h2>

C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\partials\header.ejs:169
    167|     <script>
    168|     (function() {
 >> 169|         const userData = <%- JSON.stringify(user) %>;
    170|         console.log(userData)
    171| 
    172|         function renderAuthLinks() {

user is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:12:32)
    at header (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at include (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:701:39)
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:13:17)
    at cart (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
2025-10-01 13:36:42 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 13:47:20 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 13:47:23 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 13:48:57 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 13:56:43 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 13:56:50 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 15:33:19 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 15:36:56 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 15:48:31 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 15:48:57 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 15:54:03 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 16:00:37 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 16:00:38 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 16:00:38 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 16:00:39 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 16:00:39 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 16:00:39 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 16:02:57 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 16:50:18 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 16:59:14 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 16:59:30 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 17:00:38 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 17:09:57 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 17:10:35 [ERROR]: CastError: Cast to ObjectId failed for value "cart" (type string) at path "_id" for model "Product"
2025-10-01 19:58:25 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\checkout.ejs:3
    1| <%- include('partials/head') %>
    2| <body>
 >> 3|   <%- include('partials/header') %>
    4| 
    5|   <div class="container my-5">
    6|     <h2 class="mb-4">Checkout</h2>

C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\partials\header.ejs:169
    167|     <script>
    168|     (function() {
 >> 169|         const userData = <%- JSON.stringify(user) %>;
    170|         console.log(userData)
    171| 
    172|         function renderAuthLinks() {

user is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:12:32)
    at header (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at include (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:701:39)
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:13:17)
    at checkout (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
2025-10-02 14:12:16 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\cart.ejs:7
    5|   <div class="container my-5">
    6|     <h2 class="mb-4">Shopping Cart</h2>
 >> 7|       <% if (error && error.length > 0) { %>
    8|   <div class="alert alert-danger"><%= error %></div>
    9| <% } %>
    10|     <% if (items.length === 0) { %>

error is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:16:8)
    at cart (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at loadCart (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\cartController.js:33:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-02 14:16:21 [ERROR]: checkout load error: TypeError: req.flash is not a function
2025-10-02 14:16:21 [ERROR]: TypeError: req.flash is not a function
    at loadCheckout (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\checkoutController.js:49:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-02 14:36:27 [ERROR]: (node:41708) Warning: Accessing non-existent property 'flashMessageMiddleware' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
2025-10-02 14:38:33 [ERROR]: TypeError: req.flash is not a function
    at flashMessageMiddleware (C:\Users\Lenovo\Desktop\P_SAREE SOUL\middlewares\userAuth.js:42:32)
    at Layer.handleRequest (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\router\lib\layer.js:152:17)
    at trimPrefix (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\router\index.js:342:13)
    at C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\router\index.js:297:9
    at processParams (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\router\index.js:582:12)
    at next (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\router\index.js:291:5)
    at strategy.pass (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at SessionStrategy.authenticate (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\passport\lib\strategies\session.js:126:10)
    at attempt (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\passport\lib\middleware\authenticate.js:378:16)
    at authenticate (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\passport\lib\middleware\authenticate.js:379:7)
2025-10-02 14:38:35 [ERROR]: TypeError: req.flash is not a function
    at flashMessageMiddleware (C:\Users\Lenovo\Desktop\P_SAREE SOUL\middlewares\userAuth.js:42:32)
    at Layer.handleRequest (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\router\lib\layer.js:152:17)
    at trimPrefix (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\router\index.js:342:13)
    at C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\router\index.js:297:9
    at processParams (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\router\index.js:582:12)
    at next (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\router\index.js:291:5)
    at strategy.pass (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\passport\lib\middleware\authenticate.js:355:9)
    at SessionStrategy.authenticate (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\passport\lib\strategies\session.js:126:10)
    at attempt (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\passport\lib\middleware\authenticate.js:378:16)
    at authenticate (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\passport\lib\middleware\authenticate.js:379:7)
2025-10-02 14:41:02 [ERROR]: order placement error: ReferenceError: Variant is not defined
2025-10-02 14:41:02 [ERROR]: (node:18052) [DEP0044] DeprecationWarning: The `util.isArray` API is deprecated. Please use `Array.isArray()` instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
2025-10-02 14:41:19 [ERROR]: order placement error: ReferenceError: Variant is not defined
2025-10-02 14:41:50 [ERROR]: order placement error: ReferenceError: Variant is not defined
2025-10-02 14:42:02 [ERROR]: order placement error: ReferenceError: Variant is not defined
2025-10-02 14:49:31 [ERROR]: ReferenceError: Variant is not defined
2025-10-02 14:49:31 [ERROR]: (node:2744) [DEP0044] DeprecationWarning: The `util.isArray` API is deprecated. Please use `Array.isArray()` instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
2025-10-02 14:49:36 [ERROR]: ReferenceError: Variant is not defined
2025-10-02 14:52:19 [ERROR]: ReferenceError: Variant is not defined
2025-10-02 14:52:26 [ERROR]: ReferenceError: Variant is not defined
2025-10-02 14:52:41 [ERROR]: ReferenceError: Variant is not defined
2025-10-02 14:53:06 [ERROR]: ReferenceError: Variant is not defined
2025-10-02 14:57:22 [ERROR]: ReferenceError: Variant is not defined
2025-10-02 15:11:09 [ERROR]: ReferenceError: Variant is not defined
2025-10-02 15:11:09 [ERROR]: (node:10540) [DEP0044] DeprecationWarning: The `util.isArray` API is deprecated. Please use `Array.isArray()` instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
2025-10-02 15:11:16 [ERROR]: ReferenceError: Variant is not defined
2025-10-02 15:12:28 [ERROR]: ReferenceError: Variant is not defined
2025-10-02 15:25:29 [ERROR]: ReferenceError: Variant is not defined
2025-10-03 12:59:11 [ERROR]: ValidationError: orderId: Path `orderId` is required.
2025-10-03 12:59:11 [ERROR]: (node:36644) [DEP0044] DeprecationWarning: The `util.isArray` API is deprecated. Please use `Array.isArray()` instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
2025-10-03 12:59:25 [ERROR]: ValidationError: orderId: Path `orderId` is required.
2025-10-03 13:02:03 [ERROR]: ValidationError: orderId: Path `orderId` is required.
2025-10-03 13:02:03 [ERROR]: (node:23808) [DEP0044] DeprecationWarning: The `util.isArray` API is deprecated. Please use `Array.isArray()` instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
2025-10-03 13:04:57 [ERROR]: ValidationError: orderId: Path `orderId` is required.
2025-10-03 13:04:57 [ERROR]: (node:25832) [DEP0044] DeprecationWarning: The `util.isArray` API is deprecated. Please use `Array.isArray()` instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
2025-10-03 14:25:34 [ERROR]: ValidationError: orderId: Path `orderId` is required.
2025-10-03 14:25:34 [ERROR]: (node:9492) [DEP0044] DeprecationWarning: The `util.isArray` API is deprecated. Please use `Array.isArray()` instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
2025-10-03 16:34:57 [ERROR]: ReferenceError: Counter is not defined
2025-10-03 16:34:57 [ERROR]: (node:17504) [DEP0044] DeprecationWarning: The `util.isArray` API is deprecated. Please use `Array.isArray()` instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
2025-10-03 16:35:03 [ERROR]: ReferenceError: Counter is not defined
2025-10-03 16:40:28 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\order-success.ejs:27
    25|             
    26|             <div class="alert alert-info d-inline-block">
 >> 27|               <strong>Order ID:</strong> <%= orderId %>
    28|             </div>
    29| 
    30|             <div class="mt-4">

orderId is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:16:26)
    at order-success (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at loadOrderSuccess (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\checkoutController.js:127:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-03 20:09:32 [ERROR]: Error: Failed to lookup view "my-orders" in views directories "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user" or "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin"
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:562:17)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getUserOrders (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\orderController.js:11:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-03 20:22:07 [ERROR]: Error: Failed to lookup view "my-orders" in views directories "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user" or "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin"
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:562:17)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getUserOrders (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\orderController.js:11:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-03 20:39:33 [ERROR]: Error: Failed to lookup view "my-orders" in views directories "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user" or "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin"
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:562:17)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getUserOrders (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\orderController.js:11:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-03 20:39:34 [ERROR]: Error: Failed to lookup view "my-orders" in views directories "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user" or "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin"
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:562:17)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getUserOrders (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\orderController.js:11:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-03 20:39:34 [ERROR]: Error: Failed to lookup view "my-orders" in views directories "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user" or "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin"
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:562:17)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getUserOrders (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\orderController.js:11:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-03 20:39:35 [ERROR]: Error: Failed to lookup view "my-orders" in views directories "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user" or "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin"
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:562:17)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getUserOrders (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\orderController.js:11:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-04 11:18:55 [ERROR]: Error: Failed to lookup view "order-detail" in views directories "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user" or "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin"
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:562:17)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getOrderDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\orderController.js:71:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-04 12:43:08 [ERROR]: TypeError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\order-detail.ejs:75
    73|                         <div class="row">
    74|                             <div class="col-md-6">
 >> 75|                                 <p class="mb-1"><strong><%= order.shippingAddress.name || '' %></strong></p>
    76|                                 <p class="mb-1"><%= order.shippingAddress.address || '' %></p>
    77|                                 <p class="mb-1"><%= order.shippingAddress.city || '' %>, <%= order.shippingAddress.state || '' %> <%= order.shippingAddress.pincode || '' %></p>
    78|                                 <p class="mb-0"><i class="fas fa-phone me-2"></i><%= order.shippingAddress.phone || '' %></p>

Cannot read properties of undefined (reading 'name')
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:33:48)
    at order-detail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getOrderDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\orderController.js:73:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-04 15:09:02 [ERROR]: Error cancelling order: TypeError: Variant.save is not a function
2025-10-04 15:12:55 [ERROR]: Error cancelling order: TypeError: Variant.save is not a function
2025-10-04 15:14:38 [ERROR]: Error cancelling order: TypeError: Variant.save is not a function
2025-10-04 15:14:59 [ERROR]: Error cancelling order: TypeError: Variant.save is not a function
2025-10-04 15:17:26 [ERROR]: Error cancelling order: TypeError: Variant.save is not a function
2025-10-05 11:52:08 [ERROR]: Error generating invoice: StrictPopulateError: Cannot populate path `item.variantId` because it is not in your schema. Set the `strictPopulate` option to false to override.
2025-10-05 11:54:27 [ERROR]: Error generating invoice: ReferenceError: PDFDocument is not defined
2025-10-05 11:55:12 [ERROR]: Error generating invoice: ReferenceError: PDFDocument is not defined
2025-10-05 11:55:13 [ERROR]: Error generating invoice: ReferenceError: PDFDocument is not defined
2025-10-05 11:55:14 [ERROR]: Error generating invoice: ReferenceError: PDFDocument is not defined
2025-10-05 11:55:14 [ERROR]: Error generating invoice: ReferenceError: PDFDocument is not defined
2025-10-05 11:55:14 [ERROR]: Error generating invoice: ReferenceError: PDFDocument is not defined
2025-10-05 11:56:06 [ERROR]: Error generating invoice: ReferenceError: PDFDocument is not defined
2025-10-05 16:05:13 [ERROR]: (node:2852) Warning: Accessing non-existent property 'getAllOrders' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
2025-10-05 16:05:13 [ERROR]: (node:29132) Warning: Accessing non-existent property 'getAllOrders' of module exports inside circular dependency
(Use `node --trace-warnings ...` to show where the warning was created)
2025-10-05 16:05:51 [ERROR]: Error: Failed to lookup view "admin/orders" in views directories "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user" or "C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\admin"
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:562:17)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getAllOrders (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\admin\orderController.js:35:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-05 21:25:30 [ERROR]: MongoServerError: E11000 duplicate key error collection: sareeSoul.users index: email_1 dup key: { email: "akhilapc0@gmail.com" }
    at InsertOneOperation.execute (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\mongodb\lib\operations\insert.js:51:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async tryOperation (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\mongodb\lib\operations\execute_operation.js:207:20)
    at async executeOperation (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\mongodb\lib\operations\execute_operation.js:75:16)
    at async Collection.insertOne (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\mongodb\lib\collection.js:157:16)
2025-10-05 21:38:36 [ERROR]: Error returning order: ReferenceError: OrderId is not defined
2025-10-05 21:38:48 [ERROR]: Error returning order: ReferenceError: OrderId is not defined
2025-10-05 21:38:55 [ERROR]: Error returning order: ReferenceError: OrderId is not defined
2025-10-05 21:44:25 [ERROR]: MongoServerError: E11000 duplicate key error collection: sareeSoul.users index: email_1 dup key: { email: "akhilapc0@gmail.com" }
    at InsertOneOperation.execute (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\mongodb\lib\operations\insert.js:51:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async tryOperation (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\mongodb\lib\operations\execute_operation.js:207:20)
    at async executeOperation (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\mongodb\lib\operations\execute_operation.js:75:16)
    at async Collection.insertOne (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\mongodb\lib\collection.js:157:16)
2025-10-06 15:51:45 [ERROR]: Error updating item status: ValidationError: status: `Partially Shipped` is not a valid enum value for path `status`.
2025-10-06 15:52:14 [ERROR]: Error updating item status: ValidationError: status: `Partially Shipped` is not a valid enum value for path `status`.
2025-10-06 20:30:09 [ERROR]: StrictPopulateError: Cannot populate path `variants` because it is not in your schema. Set the `strictPopulate` option to false to override.
2025-10-06 20:30:19 [ERROR]: StrictPopulateError: Cannot populate path `variants` because it is not in your schema. Set the `strictPopulate` option to false to override.
2025-10-06 20:35:49 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\productDetail.ejs:681
    679|     value="1" 
    680|     min="1" 
 >> 681|     max="<%= maxQuantity %>"
    682|     style="width: 60px; margin-left: 10px;"
    683|   >
    684| </div>

maxQuantity is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:189:26)
    at productDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getProductDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\userController.js:148:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-06 21:25:00 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\productDetail.ejs:622
    620|           </div>
    621| 
 >> 622|    <% if (cartQuantity >= 5) { %>
    623|   <button class="btn btn-secondary" disabled>
    624|     Max 5 items allowed
    625|   </button>

cartQuantity is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:177:8)
    at productDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getProductDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\userController.js:125:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-07 10:01:51 [ERROR]: TypeError: Cannot read properties of undefined (reading 'quantity')
2025-10-07 11:02:29 [ERROR]: CastError: Cast to ObjectId failed for value "disabled" (type string) at path "variantId" because of "BSONError"
2025-10-07 11:18:30 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\productDetail.ejs:623
    621| 
    622|           <div class="action-buttons">
 >> 623|             <button class="btn btn-primary"  id="addToCartBtn" <%=stock===6%> ?'disabled' : ''>
    624|               <i class="bi bi-cart-plus"></i> Add to Cart
    625| 
    626|             </button>

stock is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:177:25)
    at productDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getProductDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\controllers\user\userController.js:123:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-16 09:14:04 [ERROR]: TypeError: Cannot read properties of undefined (reading '_id')
2025-10-16 16:24:51 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\productDetail.ejs:630
    628|               <i class="bi bi-lightning"></i> Buy Now
    629|             </button>
 >> 630|             <% if(wishlistVariantIds.includes(variant._id.toString())){%>
    631|             <button class="btn btn-outline-secondary" disabled >
    632|               <i class="bi bi-heart-fill"></i> Added
    633|             </button>

variant is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:177:39)
    at productDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getProductDetail (file:///C:/Users/Lenovo/Desktop/P_SAREE%20SOUL/controllers/user/userController.js:130:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-16 16:54:30 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\productDetail.ejs:628
    626|               </button>
    627|               
 >> 628|               <% if(wishlistVariantIds.includes(variant._id.toString())) { %>
    629|                 <button class="btn btn-outline-secondary" disabled>
    630|                   <i class="bi bi-heart-fill"></i> Added
    631|                 </button>

variant is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:173:39)
    at productDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getProductDetail (file:///C:/Users/Lenovo/Desktop/P_SAREE%20SOUL/controllers/user/userController.js:130:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-17 19:06:10 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\productDetail.ejs:682
    680|     const variants = <%- JSON.stringify(variants) %>;
    681|     const product = <%- JSON.stringify(product) %>;
 >> 682|     const wishlistItems=<%- JSON.stringify(wishlist || [])%>;
    683|     const cartItems=<%- JSON.stringify(cartItems || [] )%>;
    684| 
    685|         const MAX_LIMIT=5;

wishlist is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:189:32)
    at productDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getProductDetail (file:///C:/Users/Lenovo/Desktop/P_SAREE%20SOUL/controllers/user/userController.js:130:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-17 19:10:25 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\productDetail.ejs:683
    681|     const product = <%- JSON.stringify(product) %>;
    682|     const wishlistItems=<%- JSON.stringify(wishlistVariantIds  || [])%>;
 >> 683|     const cartItems=<%- JSON.stringify(cartItems || [] )%>;
    684| 
    685|         const MAX_LIMIT=5;
    686|     //initialize zoom

cartItems is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:192:32)
    at productDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getProductDetail (file:///C:/Users/Lenovo/Desktop/P_SAREE%20SOUL/controllers/user/userController.js:130:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-17 19:10:26 [ERROR]: ReferenceError: C:\Users\Lenovo\Desktop\P_SAREE SOUL\views\user\productDetail.ejs:683
    681|     const product = <%- JSON.stringify(product) %>;
    682|     const wishlistItems=<%- JSON.stringify(wishlistVariantIds  || [])%>;
 >> 683|     const cartItems=<%- JSON.stringify(cartItems || [] )%>;
    684| 
    685|         const MAX_LIMIT=5;
    686|     //initialize zoom

cartItems is not defined
    at eval (eval at compile (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:673:12), <anonymous>:192:32)
    at productDetail (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:703:17)
    at tryHandleCache (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:274:36)
    at exports.renderFile [as engine] (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\ejs\lib\ejs.js:491:10)
    at View.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\view.js:139:8)
    at tryRender (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:627:10)
    at Function.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\application.js:574:3)
    at ServerResponse.render (C:\Users\Lenovo\Desktop\P_SAREE SOUL\node_modules\express\lib\response.js:909:7)
    at getProductDetail (file:///C:/Users/Lenovo/Desktop/P_SAREE%20SOUL/controllers/user/userController.js:130:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-17 19:13:14 [ERROR]: ReferenceError: Cart is not defined
